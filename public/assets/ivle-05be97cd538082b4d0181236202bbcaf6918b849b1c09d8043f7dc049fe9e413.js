var ivle=function(t){var n="https://ivle.nus.edu.sg/api/Lapi.svc/",o=function(n,o,e,u,i){t.ajax({type:"GET",dataType:"jsonp",data:o,contentType:"application/x-javascript",url:n,xhrFields:{withCredentials:!1},success:e,error:function(){var s=n+"?"+decodeURIComponent(t.param(o));i?t.ajax({type:"GET",dataType:"json",data:{request:s},url:i,dataFilter:function(n){return t.parseJSON(n)},success:e,error:u}):u&&u.apply(this,arguments)}})},e=function(t,e){this.apikey=t,this.proxy=e,this.auth=function(n,o){n.click(function(){var n="https://ivle.nus.edu.sg/api/login/?apikey="+t+"&url="+encodeURIComponent(o);window.location.href=n})},this.user=function(u){this.authtoken=u,this.setauthtoken=function(t){this.authtoken=t},this.validate=function(u,i){var s="Validate",a={APIKey:t,Token:this.authtoken,output:"json"},r=n+s;o(r,a,u,i,e)},this.modules=function(u,i){var s="Modules",a={APIKey:t,AuthToken:this.authtoken,Duration:0,IncludeAllInfo:!1,output:"json"},r=n+s;o(r,a,u,i,e)},this.workbin=function(u,i,s){var a="Workbins",r={APIKey:t,AuthToken:this.authtoken,CourseId:u,Duration:0,TitleOnly:!1,output:"json"},h=n+a;o(h,r,i,s,e)},this.file=function(n){var o="https://ivle.nus.edu.sg/api/downloadfile.ashx?APIKey="+t+"&AuthToken="+this.authtoken+"&ID="+n+"&target=workbin";window.location.href=o},this.announcements=function(u,i,s){var a="Announcements",r={APIKey:t,AuthToken:this.authtoken,CourseId:u,Duration:0,TitleOnly:!1,output:"json"},h=n+a;o(h,r,i,s,e)},this.gradebook=function(u,i,s){var a="Gradebook_ViewItems",r={APIKey:t,AuthToken:this.authtoken,CourseId:u,output:"json"},h=n+a;o(h,r,i,s,e)},this.forum=function(u,i,s){var a="Forums",r={APIKey:t,AuthToken:this.authtoken,CourseId:u,Duration:0,IncludeThreads:!0,TitleOnly:!1,output:"json"},h=n+a;o(h,r,i,s,e)},this.webcasts=function(u,i,s){var a="Webcasts",r={APIKey:t,AuthToken:this.authtoken,CourseId:u,Duration:0,output:"json"},h=n+a;o(h,r,i,s,e)}}};return e}($);